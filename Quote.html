<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request a Quote - Fundamental Calibrations</title>
    <meta name="description" content="Request a quote for precision calibration services from Fundamental Calibrations. Serving PA, DE, NJ with expert metrology.">
    <meta name="keywords" content="request quote, calibration quote, metrology services, Pennsylvania, Delaware, New Jersey">
    <meta property="og:title" content="Request a Quote - Fundamental Calibrations">
    <meta property="og:description" content="Get a custom quote for our 30-year expert calibration services.">
    <meta property="og:type" content="website">
    <link rel="canonical" href="https://yourdomain.com/quote.html">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <style>
        .form-group {
            margin-bottom: 1rem;
        }
        .form-input {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #d1d5db;
            border-radius: 0.25rem;
        }
        .submit-button, .add-button, .remove-button {
            background-color: #15803d;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            color: white;
            text-decoration: none;
            display: inline-block;
            font-size: 1.25rem;
            border: none;
            cursor: pointer;
        }
        .submit-button:hover, .add-button:hover, .remove-button:hover {
            background-color: #166534;
        }
        .item-row {
            background: #f9fafb;
            padding: 1rem;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
            position: relative;
        }
        .item-row.hidden {
            display: none;
        }
        .remove-button {
            padding: 0.5rem 1rem;
            font-size: 1rem;
        }
        @media (max-width: 768px) {
            .grid-cols-2 {
                grid-template-columns: 1fr;
            }
            .submit-button, .add-button, .remove-button {
                width: 100%;
                margin-bottom: 0.5rem;
            }
        }
    </style>
</head>
<body class="bg-gray-200 text-gray-800 font-lato">
    <header class="bg-green-600 sticky top-0 z-10 shadow-md">
        <nav class="container mx-auto p-4" role="navigation" aria-label="Main navigation">
            <ul class="flex justify-center space-x-6">
                <li><a href="index.html" class="text-white hover:text-gray-200" aria-label="Home">Home</a></li>
                <li class="relative group">
                    <a href="services.html" class="text-white hover:text-gray-200" aria-haspopup="true">Services</a>
                    <div class="absolute hidden group-hover:block bg-green-700 mt-2 w-40 rounded-md shadow-lg">
                        <a href="services.html" class="block px-4 py-2 text-white hover:bg-green-600" aria-label="Services">Services</a>
                        <a href="quote.html" class="block px-4 py-2 text-white hover:bg-green-600" aria-label="Request a Quote">Request a Quote</a>
                    </div>
                </li>
                <li><a href="about.html" class="text-white hover:text-gray-200" aria-label="About">About</a></li>
                <li><a href="contact.html" class="text-white hover:text-gray-200" aria-label="Contact">Contact</a></li>
            </ul>
        </nav>
    </header>
    <main class="container mx-auto py-6">
        <section id="request-quote" class="text-center">
            <h2 class="text-3xl font-oswald text-green-600 mb-2">Request a Quote</h2>
            <p class="text-lg mb-4">(Fill in the contact information below or contact us at sales@fundamentalcalibrations.com)</p>
            <form id="quoteForm" name="quoteForm" method="POST" data-netlify="true" netlify-honeypot="bot-field" enctype="multipart/form-data" class="max-w-3xl mx-auto bg-white border-2 border-[#F97316] rounded-lg p-6 shadow-md">
                <input type="hidden" name="form-name" value="quoteForm">
                <p class="hidden"><label>Don’t fill this out if you're human: <input name="bot-field"></label></p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="title" class="block text-left text-sm font-medium text-gray-700">Title</label>
                        <input type="text" name="title" id="title" placeholder="Title (e.g., Manager, Engineer)" class="form-input">
                        <label for="name" class="block text-left text-sm font-medium text-gray-700 mt-2">Name *</label>
                        <input type="text" name="name" id="name" placeholder="Name" required class="form-input">
                        <label for="company" class="block text-left text-sm font-medium text-gray-700 mt-2">Company *</label>
                        <input type="text" name="company" id="company" placeholder="Company Name" required class="form-input">
                        <label for="phone" class="block text-left text-sm font-medium text-gray-700 mt-2">Phone Number *</label>
                        <input type="tel" name="phone" id="phone" placeholder="Phone" required class="form-input">
                        <label for="email" class="block text-left text-sm font-medium text-gray-700 mt-2">Email *</label>
                        <input type="email" name="email" id="email" placeholder="Email" required class="form-input">
                    </div>
                    <div>
                        <label for="companyAddress" class="block text-left text-sm font-medium text-gray-700">Address *</label>
                        <input type="text" name="companyAddress" id="companyAddress" placeholder="Company Address" class="form-input">
                        <label for="unitApt" class="block text-left text-sm font-medium text-gray-700 mt-2">Unit/Apt #</label>
                        <input type="text" name="unitApt" id="unitApt" placeholder="Unit/Apt #" class="form-input">
                        <label for="city" class="block text-left text-sm font-medium text-gray-700 mt-2">City *</label>
                        <input type="text" name="city" id="city" placeholder="City" class="form-input">
                        <label for="state" class="block text-left text-sm font-medium text-gray-700 mt-2">State *</label>
                        <select name="state" id="state" class="form-input">
                            <option value="">Select State</option>
                            <option value="CA">California</option>
                            <option value="TX">Texas</option>
                            <option value="NY">New York</option>
                            <option value="FL">Florida</option>
                            <option value="IL">Illinois</option>
                            <option value="PA">Pennsylvania</option>
                            <option value="OH">Ohio</option>
                            <option value="GA">Georgia</option>
                            <option value="NC">North Carolina</option>
                            <option value="MI">Michigan</option>
                            <option value="WA">Washington</option>
                            <option value="Other">Other</option>
                        </select>
                        <label for="zipcode" class="block text-left text-sm font-medium text-gray-700 mt-2">Zip/Postal Code *</label>
                        <input type="text" name="zipcode" id="zipcode" placeholder="Zipcode" class="form-input">
                    </div>
                </div>
                <div class="mt-4 flex items-center space-x-4">
                    <label for="instrumentList" class="block text-left text-sm font-medium text-gray-700">Got an instrument list? Upload it here</label>
                    <input type="file" id="instrumentList" name="instrumentList" accept=".pdf,.csv" class="form-input">
                    <label for="isBroken" class="block text-left text-sm font-medium text-gray-700">Need repairs on any instruments?</label>
                    <input type="checkbox" id="isBroken" name="isBroken" class="mr-2">
                </div>
                <div id="items" class="mt-4">
                    <div class="item-row" data-item="1">
                        <label class="block text-left text-sm font-medium text-gray-700">Instrument #1</label>
                        <input type="text" name="manufacturer[1]" placeholder="Manufacturer" class="form-input">
                        <input type="text" name="model[1]" placeholder="Model" class="form-input mt-2">
                        <input type="text" name="serial[1]" placeholder="Serial" class="form-input mt-2">
                        <input type="text" name="asset[1]" placeholder="Asset Number" class="form-input mt-2">
                        <div class="note-box mt-2">
                            <textarea name="notes[1]" placeholder="Any notes about this instrument" maxlength="500" class="form-input h-20"></textarea>
                        </div>
                    </div>
                    <div class="item-row hidden" data-item="2">
                        <label class="block text-left text-sm font-medium text-gray-700">Instrument #2</label>
                        <input type="text" name="manufacturer[2]" placeholder="Manufacturer" class="form-input">
                        <input type="text" name="model[2]" placeholder="Model" class="form-input mt-2">
                        <input type="text" name="serial[2]" placeholder="Serial" class="form-input mt-2">
                        <input type="text" name="asset[2]" placeholder="Asset Number" class="form-input mt-2">
                        <div class="note-box mt-2">
                            <textarea name="notes[2]" placeholder="Any notes about this instrument" maxlength="500" class="form-input h-20"></textarea>
                        </div>
                        <button type="button" class="remove-button mt-2" data-item="2" aria-label="Remove instrument #2">-</button>
                    </div>
                    <div class="item-row hidden" data-item="3">
                        <label class="block text-left text-sm font-medium text-gray-700">Instrument #3</label>
                        <input type="text" name="manufacturer[3]" placeholder="Manufacturer" class="form-input">
                        <input type="text" name="model[3]" placeholder="Model" class="form-input mt-2">
                        <input type="text" name="serial[3]" placeholder="Serial" class="form-input mt-2">
                        <input type="text" name="asset[3]" placeholder="Asset Number" class="form-input mt-2">
                        <div class="note-box mt-2">
                            <textarea name="notes[3]" placeholder="Any notes about this instrument" maxlength="500" class="form-input h-20"></textarea>
                        </div>
                        <button type="button" class="remove-button mt-2" data-item="3" aria-label="Remove instrument #3">-</button>
                    </div>
                    <div class="item-row hidden" data-item="4">
                        <label class="block text-left text-sm font-medium text-gray-700">Instrument #4</label>
                        <input type="text" name="manufacturer[4]" placeholder="Manufacturer" class="form-input">
                        <input type="text" name="model[4]" placeholder="Model" class="form-input mt-2">
                        <input type="text" name="serial[4]" placeholder="Serial" class="form-input mt-2">
                        <input type="text" name="asset[4]" placeholder="Asset Number" class="form-input mt-2">
                        <div class="note-box mt-2">
                            <textarea name="notes[4]" placeholder="Any notes about this instrument" maxlength="500" class="form-input h-20"></textarea>
                        </div>
                        <button type="button" class="remove-button mt-2" data-item="4" aria-label="Remove instrument #4">-</button>
                    </div>
                    <div class="item-row hidden" data-item="5">
                        <label class="block text-left text-sm font-medium text-gray-700">Instrument #5</label>
                        <input type="text" name="manufacturer[5]" placeholder="Manufacturer" class="form-input">
                        <input type="text" name="model[5]" placeholder="Model" class="form-input mt-2">
                        <input type="text" name="serial[5]" placeholder="Serial" class="form-input mt-2">
                        <input type="text" name="asset[5]" placeholder="Asset Number" class="form-input mt-2">
                        <div class="note-box mt-2">
                            <textarea name="notes[5]" placeholder="Any notes about this instrument" maxlength="500" class="form-input h-20"></textarea>
                        </div>
                        <button type="button" class="remove-button mt-2" data-item="5" aria-label="Remove instrument #5">-</button>
                    </div>
                </div>
                <div class="mt-4 flex justify-center space-x-4">
                    <button type="submit" class="submit-button" aria-label="Submit quote request">Submit</button>
                    <button type="button" id="addInstrument" class="add-button" aria-label="Add another instrument">+</button>
                </div>
            </form>
        </section>
    </main>
    <footer class="bg-green-800 text-white text-center py-4 mt-16">
        <p>&copy; <script>document.write(new Date().getFullYear())</script> Fundamental Calibrations | <a href="about.html" class="text-gray-200 hover:underline" aria-label="About page">About</a> | <a href="services.html" class="text-gray-200 hover:underline" aria-label="Services page">Services</a> | <a href="contact.html" class="text-gray-200 hover:underline" aria-label="Contact page">Contact</a> | <a href="privacy-policy.html" class="text-gray-200 hover:underline" aria-label="Privacy Policy">Privacy Policy</a> | <a href="terms-of-service.html" class="text-gray-200 hover:underline" aria-label="Terms of Service">Terms of Service</a></p>
        <div class="payment-options mt-2">
            <i class="fab fa-cc-visa text-xl mr-2" aria-label="Visa accepted"></i>
            <i class="fab fa-cc-mastercard text-xl mr-2" aria-label="MasterCard accepted"></i>
            <i class="fab fa-cc-amex text-xl mr-2" aria-label="American Express accepted"></i>
            <i class="fab fa-cc-discover text-xl" aria-label="Discover accepted"></i>
        </div>
    </footer>
    <script>
        // Ensure DOM is loaded before attaching event listeners
        document.addEventListener('DOMContentLoaded', function() {
            const addButton = document.getElementById('addInstrument');
            if (addButton) {
                addButton.addEventListener('click', function() {
                    const items = document.getElementById('items');
                    const itemRows = items.getElementsByClassName('item-row');
                    const visibleItems = Array.from(itemRows).filter(row => !row.classList.contains('hidden')).length;
                    const nextItem = visibleItems + 1;
                    if (nextItem <= 5) {
                        const newItem = document.querySelector(`[data-item="${nextItem}"]`);
                        if (newItem) {
                            newItem.classList.remove('hidden');
                            newItem.querySelectorAll('input, textarea').forEach(input => {
                                input.value = '';
                            });
                            if (nextItem > 1) {
                                newItem.querySelector('.remove-button').classList.remove('hidden');
                            }
                        }
                    } else {
                        alert('Maximum of 5 instruments reached.');
                    }
                });
            }

            // Remove instrument row (only for rows after the first)
            document.querySelectorAll('.remove-button').forEach(button => {
                button.addEventListener('click', function() {
                    const itemNum = parseInt(this.getAttribute('data-item'));
                    if (itemNum > 1) {
                        const itemRow = document.querySelector(`[data-item="${itemNum}"]`);
                        if (itemRow) {
                            itemRow.classList.add('hidden');
                            itemRow.querySelectorAll('input, textarea').forEach(input => {
                                input.value = '';
                            });
                            const items = document.getElementById('items').getElementsByClassName('item-row');
                            Array.from(items).forEach((row, index) => {
                                if (!row.classList.contains('hidden') && index > 0) {
                                    const newItemNum = index + 1;
                                    row.setAttribute('data-item', newItemNum);
                                    row.querySelector('label').textContent = `Instrument #${newItemNum}`;
                                    row.querySelectorAll('input, textarea').forEach(input => {
                                        const name = input.name.replace(/\[\d+\]/, `[${newItemNum}]`);
                                        input.name = name;
                                    });
                                    row.querySelector('.remove-button').setAttribute('data-item', newItemNum);
                                }
                            });
                        }
                    } else {
                        alert('The first instrument cannot be removed.');
                    }
                });
            });

            // Form submission handling with Netlify integration
            document.getElementById('quoteForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                const form = this;
                const submitButton = form.querySelector('.submit-button');
                submitButton.disabled = true;
                submitButton.textContent = 'Submitting...';

                try {
                    const formData = new FormData(form);
                    const response = await fetch('/', {
                        method: 'POST',
                        body: formData
                    });

                    if (response.ok) {
                        alert('Thank you! Your quote request has been submitted. We’ll contact you within 24-48 hours.');
                        form.reset();
                        document.querySelectorAll('.item-row').forEach((row, index) => {
                            if (index > 0) row.classList.add('hidden');
                            const removeBtn = row.querySelector('.remove-button');
                            if (removeBtn) removeBtn.classList.add('hidden');
                        });
                    } else {
                        alert('Submission failed. Please check your input and try again or email sales@fundamentalcalibrations.com.');
                    }
                } catch (error) {
                    alert('An error occurred: ' + error.message + '. Please try again or email sales@fundamentalcalibrations.com.');
                } finally {
                    submitButton.disabled = false;
                    submitButton.textContent = 'Submit';
                }
            });

            // File size validation for instrument list
            const fileInput = document.getElementById('instrumentList');
            if (fileInput) {
                fileInput.addEventListener('change', function() {
                    const maxSize = 5 * 1024 * 1024; // 5MB
                    if (this.files[0] && this.files[0].size > maxSize) {
                        alert('File size exceeds 5MB limit.');
                        this.value = '';
                    }
                });
            }
        });
    </script>
</body>
</html>
